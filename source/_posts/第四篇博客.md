---
title: CSS中的层叠上下文和层叠顺序
date: 2017-12-10 22:19:25
tags:
---


#### 层叠顺序（由下往上）

	1.负z-index（position）
	2.background
	3.border
	4.block
	5.float（float/inline在float上）
	6.inline/inline-block
	7.正z-index（position元素由z-index大小决定层叠）

`z-index`某些情况下可以影响层叠水平，但是只限于定位元素以及flex盒子的孩子元素；而层叠水平所有的元素都存在。	

---

#### 务必牢记的层叠准则
下面这两个是层叠领域的黄金准则。当元素发生层叠的时候，其覆盖关系遵循下面2个准则：

	1. 谁大谁上：当具有明显的层叠水平标示的时候，如识别的z-indx值，在同一个层叠上下文领域，层叠水平值大的那一个覆盖小的那一个。通俗讲就是官大的压死官小的。
	2. 后来居上：当元素的层叠水平一致、层叠顺序相同的时候，在DOM流中处于后面的元素会覆盖前面的元素。

备注：

	1.z-index:auto所在的<div>元素是一个普通的元素，这时候div里的元素不受父级元素影响；
	2.当z-index一旦变成数值，哪怕是0，都会创建一个层叠上下文，这时候父级元素决定子元素层级。
---

#### 满足两个条件才能形成层叠上下文
	条件1：父级需要是display:flex或者display:inline-flex水平
	条件2：子元素的z-index不是auto，必须是数值。
此时，这个子元素为层叠上下文元素，不是flex父级元素。